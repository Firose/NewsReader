
require 'rails_helper'
RSpec.describe NewsController, type: :controller do
	render_views
  describe '#index' do
    it 'should display first 10 records at initial' do
    	get :index
    	expect(assigns(:news).count).to eq(10)
    end

    it 'should display values according to page number' do
    	get :index, params: {page: 2}
    	expect(assigns(:news).first.id).to eq(11)
    end

    it 'should display records based on search values' do
    	@new = FactoryBot.create(:new, title: 'Firose')
    	get :index, params: {term: 'firose'}
    	expect(assigns(:news).count).to eq(1)
    	expect(New.all.count).to eq(273)
    end

    it 'should not display records if search not found in table' do
    	get :index, params: {term: 'yyy'}
    	expect(assigns(:news).count).to eq(0)
    	expect(New.all.count).to eq(272)
    end
  end
end















































































































































































































































































































































































































































































































































































































































































































































































